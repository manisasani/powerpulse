{% extends '_base.html' %}
{% block content %}
<div class="diet-plan-container">
    <!-- User Info Section -->
     <br>
     <br>
     <br>
    <div class="plan-section user-info">
        <div class="section-header">
            <h2>ุงุทูุงุนุงุช ุดุฎุต</h2>
        </div>
        <div class="section-content">
            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">ูุงู:</span>
                    <span class="info-value">{{ user_info.first_name }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">ุณู:</span>
                    <span class="info-value">{{ user_info.age }} ุณุงู</span>
                </div>
                <div class="info-item">
                    <span class="info-label">ูุฏ:</span>
                    <span class="info-value">{{ user_info.height }} ุณุงูุชโูุชุฑ</span>
                </div>
                <div class="info-item">
                    <span class="info-label">ูุฒู:</span>
                    <span class="info-value">{{ user_info.weight }} ฺฉููฺฏุฑู</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Calories & Macros Section -->
    <div class="plan-section macros">
        <div class="section-header">
            <h2>ุงุทูุงุนุงุช ุชุบุฐูโุง</h2>
        </div>
        <div class="section-content">
            <div class="calories-box">
                <span class="calories-value">{{ daily_calories|floatformat:0 }}</span>
                <span class="calories-label">ฺฉุงูุฑ ุฑูุฒุงูู</span>
            </div>
            
            {% if diet_plan %}
            <div class="macros-grid">
                <div class="macro-item protein">
                    <div class="macro-icon">๐ฅฉ</div>
                    <div class="macro-details">
                        <span class="macro-value">{{ macros.protein|default:0 }}g</span>
                        <span class="macro-label">ูพุฑูุชุฆู</span>
                    </div>
                </div>
                <div class="macro-item carbs">
                    <div class="macro-icon">๐</div>
                    <div class="macro-details">
                        <span class="macro-value">{{ macros.carbs|default:0 }}g</span>
                        <span class="macro-label">ฺฉุฑุจููุฏุฑุงุช</span>
                    </div>
                </div>
                <div class="macro-item fats">
                    <div class="macro-icon">๐ฅ</div>
                    <div class="macro-details">
                        <span class="macro-value">{{ macros.fats|default:0 }}g</span>
                        <span class="macro-label">ฺุฑุจ</span>
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
    </div>

    {% if diet_plan %}
    <!-- Meal Plan Section -->
    <div class="plan-section meals">
        <div class="section-header">
            <h2>ุจุฑูุงูู ุบุฐุง ุฑูุฒุงูู</h2>
        </div>
        <div class="section-content">
            <div class="meal-grid">
                <div class="meal-card">
                    <div class="meal-header">
                        <span class="meal-icon">๐ณ</span>
                        <h3>ุตุจุญุงูู</h3>
                    </div>
                    <div class="meal-content">
                        {{ diet_plan.breakfast|linebreaks|default:"ุจุฑูุงูู ุตุจุญุงูู ุชุนุฑู ูุดุฏู" }}
                    </div>
                </div>

                <div class="meal-card">
                    <div class="meal-header">
                        <span class="meal-icon">๐ฅช</span>
                        <h3>ูุงู ูุนุฏู ุตุจุญ</h3>
                    </div>
                    <div class="meal-content">
                        {{ diet_plan.snacks|linebreaks|default:"ุจุฑูุงูู ูุงู ูุนุฏู ุชุนุฑู ูุดุฏู" }}
                    </div>
                </div>

                <div class="meal-card">
                    <div class="meal-header">
                        <span class="meal-icon">๐ฑ</span>
                        <h3>ูุงูุงุฑ</h3>
                    </div>
                    <div class="meal-content">
                        {{ diet_plan.lunch|linebreaks|default:"ุจุฑูุงูู ูุงูุงุฑ ุชุนุฑู ูุดุฏู" }}
                    </div>
                </div>

                <div class="meal-card">
                    <div class="meal-header">
                        <span class="meal-icon">๐</span>
                        <h3>ูุงู ูุนุฏู ุนุตุฑ</h3>
                    </div>
                    <div class="meal-content">
                        {{ diet_plan.snacks2|linebreaks|default:"ุจุฑูุงูู ูุงู ูุนุฏู ุชุนุฑู ูุดุฏู" }}
                    </div>
                </div>

                <div class="meal-card">
                    <div class="meal-header">
                        <span class="meal-icon">๐ฝ๏ธ</span>
                        <h3>ุดุงู</h3>
                    </div>
                    <div class="meal-content">
                        {{ diet_plan.dinner|linebreaks|default:"ุจุฑูุงูู ุดุงู ุชุนุฑู ูุดุฏู" }}
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% if diet_plan.notes %}
    <!-- Notes Section -->
    <div class="plan-section notes">
        <div class="section-header">
            <h2>ูฺฉุงุช ููู</h2>
        </div>
        <div class="section-content">
            {{ diet_plan.notes|linebreaks }}
        </div>
    </div>
    {% endif %}
    
    {% else %}
    <div class="error-message">
        <span class="error-icon">โ๏ธ</span>
        <p>{{ error|default:"ุฏุฑ ุญุงู ุญุงุถุฑ ุจุฑูุงูู ุบุฐุง ููุงุณุจ ุจุฑุง ุดูุง ุงูุช ูุดุฏ. ูุทูุงู ุจุง ูพุดุชุจุงู ุชูุงุณ ุจฺฏุฑุฏ." }}</p>
    </div>
    {% endif %}
</div>
{% endblock %}